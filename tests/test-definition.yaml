#
# To run these tests on OpenShift you have to ensure that:
# 1. The "openshift" dimension below is set to "true"
#
---
dimensions:
  - name: superset
    values:
#      - 1.3.2-stackable0.0.0-dev
#      - 1.4.2-stackable0.0.0-dev
#      - 1.5.3-stackable0.0.0-dev
#      - 2.0.1-stackable0.0.0-dev
      - 2.1.0-stackable0.0.0-dev
  - name: superset-latest
    values:
      - 2.1.0-stackable0.0.0-dev
  - name: ldap-authentication
    values:
      - no-tls
      - insecure-tls
      - server-verification-tls
  - name: openshift
    values:
      - "false"
tests:
  - name: smoke
    dimensions:
      - superset
      - openshift
  - name: cluster-operation
    dimensions:
      - superset-latest
      - openshift
  - name: druid-connection
    dimensions:
      - superset
      - openshift
  - name: ldap
    dimensions:
      - superset
      - ldap-authentication
      - openshift
  - name: resources
    dimensions:
      - superset-latest
      - openshift
  - name: logging
    dimensions:
      - superset
      - openshift
suites:
  - name: latest
    patch:
      - dimensions:
          - expr: last
  - name: smoke
    select:
      - smoke
  - name: openshift
    patch:
      - dimensions:
          - expr: last
      - dimensions:
          - name: openshift
            expr: "true"
